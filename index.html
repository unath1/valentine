<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine üíò</title>
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  height:100vh;
  background:#ffc0cb; /* soft pink */
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  overflow:hidden;
  font-family:'Baloo 2', cursive;
}

/* ENVELOPE */
#envelope{
  position:relative;
  width:320px;
  height:200px;
  background:#f8a5c2;
  border-radius:8px;
  box-shadow:0 15px 30px rgba(0,0,0,0.25);
}

#flap{
  position:absolute;
  width:0;
  height:0;
  border-left:160px solid transparent;
  border-right:160px solid transparent;
  border-bottom:110px solid #f48fb1;
  top:-110px;
  transform-origin:bottom;
  transition:transform 1.5s ease;
}

#envelope.open #flap{
  transform:rotateX(180deg);
}

#letter{
  position:absolute;
  width:280px;
  height:170px;
  background:white;
  left:20px;
  top:20px;
  border-radius:6px;
  transform:translateY(60px);
  transition:transform 1.5s ease;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  text-align:center;
  padding:10px;
}

#envelope.open #letter{
  transform:translateY(-120px);
}

/* QUESTION */
#questionBox{
  display:none;
  text-align:center;
  margin-top:40px;
}

#question{
  font-size:42px;
  color:#d6336c;
  text-shadow:2px 2px 0px white;
}

.buttons{
  margin-top:25px;
}

button{
  font-family:'Baloo 2', cursive;
  padding:12px 28px;
  font-size:20px;
  border:none;
  border-radius:30px;
  cursor:pointer;
  transition:0.25s;
}

#yesBtn{
  background:#ff4d6d;
  color:white;
}

#noBtn{
  background:#adb5bd;
  color:white;
  position:relative;
}

/* FINAL MESSAGE */
#yay{
  display:none;
  position:absolute;
  font-size:60px;
  color:#ff3366;
  text-shadow:3px 3px white;
}

canvas{
  position:fixed;
  top:0;
  left:0;
  pointer-events:none;
}
</style>
</head>
<body>

<div id="envelope">
  <div id="flap"></div>
  <div id="letter">üíå</div>
</div>

<div id="questionBox">
  <div id="question">Will you be my Valentine? üíñ</div>
  <div class="buttons">
    <button id="yesBtn">Yes</button>
    <button id="noBtn">No</button>
  </div>
</div>

<div id="yay">YAY ‚ù§Ô∏è</div>
<canvas id="fireworks"></canvas>

<script>
const envelope = document.getElementById('envelope');
const questionBox = document.getElementById('questionBox');
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');
const yay = document.getElementById('yay');

/* OPEN ENVELOPE AUTOMATICALLY */
window.onload = () => {
  setTimeout(()=>{
    envelope.classList.add('open');
  },800);

  setTimeout(()=>{
    questionBox.style.display='block';
  },2500);
};

/* NO BUTTON MOVES + YES GROWS */
let yesScale=1;
const noTexts=["Are you sure?","Really?","Pretty please","Come on üò≠"];
let noIndex=0;

noBtn.addEventListener('mouseover',()=>{
  const x=Math.random()*300-150;
  const y=Math.random()*200-100;
  noBtn.style.transform=`translate(${x}px,${y}px)`;
});

noBtn.addEventListener('click',()=>{
  yesScale+=0.2;
  yesBtn.style.transform=`scale(${yesScale})`;
  noBtn.textContent=noTexts[noIndex%noTexts.length];
  noIndex++;
});

/* YES CLICK ‚Üí HEART FIREWORKS + YAY */
yesBtn.addEventListener('click',()=>{
  questionBox.style.display='none';
  envelope.classList.remove('open');
  yay.style.display='block';
  startFireworks();
});

/* HEART FIREWORKS */
const canvas=document.getElementById('fireworks');
const ctx=canvas.getContext('2d');
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let particles=[];

function heart(t){
  return {
    x:16*Math.pow(Math.sin(t),3),
    y:-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t))
  };
}

function burst(x,y){
  for(let i=0;i<80;i++){
    let t=Math.random()*Math.PI*2;
    let h=heart(t);
    particles.push({
      x:x,
      y:y,
      vx:h.x*0.3,
      vy:h.y*0.3,
      life:100
    });
  }
}

function startFireworks(){
  setInterval(()=>{
    burst(Math.random()*canvas.width,Math.random()*canvas.height/2+100);
  },700);
  animate();
}

function animate(){
  ctx.fillStyle='rgba(255,192,203,0.25)';
  ctx.fillRect(0,0,canvas.width,canvas.height);

  particles.forEach(p=>{
    ctx.beginPath();
    ctx.arc(p.x,p.y,2,0,Math.PI*2);
    ctx.fillStyle='#ff3366';
    ctx.fill();
    p.x+=p.vx;
    p.y+=p.vy;
    p.life--;
  });

  particles=particles.filter(p=>p.life>0);
  requestAnimationFrame(animate);
}
</script>
</body>
</html>
